rbind.data.frame(total, data.frame(NA,as.character(best[1,2])))
}
}
total
total <- data.frame()
total <- data.frame()
for (i in 1:3){ #54
best <- as.data.frame(split(outcome[,c(2,7,resultado)], outcome[,7])[i])
orden1 <- suppressWarnings(c(as.numeric(paste(best[,3]))))
orden2 <- c(paste(best[,1]))
best <- best[order(orden1,orden2),]
orden <- suppressWarnings(!is.na(c(as.numeric(paste(best[,3])))))
best <- best[orden,]
if ((is.numeric(num)==TRUE)&(num<=nrow(best)&(num>0))){
total <- rbind.data.frame(total,best[i,1:2])
} else if ((is.numeric(num)==TRUE)&(num>nrow(best))){
total <- rbind.data.frame(total, data.frame(NA,as.character(best[1,2])))
} else if (num == "mejor"){
total <- rbind.data.frame(total,best[1,1:2])
} else if (num == "peor"){
total <- rbind.data.frame(total,best[nrow(best),1:2])
} else {
total <- rbind.data.frame(total, data.frame(NA,as.character(best[1,2])))
}
}
best[i,1:2]
a <- best[i,1:2]
a
row.names(a) <- NULL
a
row.names(a) <- c()
a
col.names(a) <- c()
colnames(a) <- c()
a
rownames(a) <- c()
a
rownames(a) <- as.character(best[i,2])
a
data.frame(NA, as.character(best[1,2]))
total <- data.frame()
for (i in 1:3){ #54
best <- as.data.frame(split(outcome[,c(2,7,resultado)], outcome[,7])[i])
orden1 <- suppressWarnings(c(as.numeric(paste(best[,3]))))
orden2 <- c(paste(best[,1]))
best <- best[order(orden1,orden2),]
orden <- suppressWarnings(!is.na(c(as.numeric(paste(best[,3])))))
best <- best[orden,]
if ((is.numeric(num)==TRUE)&(num<=nrow(best)&(num>0))){
total2 <- best[i,1:2]
colnames(total2) <- c()
total <- rbind.data.frame(total,total2)
} else if ((is.numeric(num)==TRUE)&(num>nrow(best))){
total2 <- data.frame(NA, as.character(best[1,2]))
colnames(total2) <- c()
total <- rbind.data.frame(total, total2)
} else if (num == "mejor"){
total2 <- best[1,1:2]
colnames(total2) <- c()
total <- rbind.data.frame(total,total2)
} else if (num == "peor"){
total2 <- best[nrow(best),1:2]
colnames(total2) <- c()
total <- rbind.data.frame(total,total2)
} else {
total2 <- data.frame(NA, as.character(best[1,2]))
colnames(total2) <- c()
total <- rbind.data.frame(total, total2)
}
}
num <- 3
for (i in 1:3){ #54
best <- as.data.frame(split(outcome[,c(2,7,resultado)], outcome[,7])[i])
orden1 <- suppressWarnings(c(as.numeric(paste(best[,3]))))
orden2 <- c(paste(best[,1]))
best <- best[order(orden1,orden2),]
orden <- suppressWarnings(!is.na(c(as.numeric(paste(best[,3])))))
best <- best[orden,]
if ((is.numeric(num)==TRUE)&(num<=nrow(best)&(num>0))){
total2 <- best[i,1:2]
colnames(total2) <- c()
total <- rbind.data.frame(total,total2)
} else if ((is.numeric(num)==TRUE)&(num>nrow(best))){
total2 <- data.frame(NA, as.character(best[1,2]))
colnames(total2) <- c()
total <- rbind.data.frame(total, total2)
} else if (num == "mejor"){
total2 <- best[1,1:2]
colnames(total2) <- c()
total <- rbind.data.frame(total,total2)
} else if (num == "peor"){
total2 <- best[nrow(best),1:2]
colnames(total2) <- c()
total <- rbind.data.frame(total,total2)
} else {
total2 <- data.frame(NA, as.character(best[1,2]))
colnames(total2) <- c()
total <- rbind.data.frame(total, total2)
}
}
total
total2
total <- data.frame()
i <- 1
best <- as.data.frame(split(outcome[,c(2,7,resultado)], outcome[,7])[i])
orden1 <- suppressWarnings(c(as.numeric(paste(best[,3]))))
orden2 <- c(paste(best[,1]))
best <- best[order(orden1,orden2),]
orden <- suppressWarnings(!is.na(c(as.numeric(paste(best[,3])))))
best <- best[orden,]
best
best
total2 <- best[i,1:2]
total2
colnames(total2) <- c()
total2
total <- rbind.data.frame(total,total2)
total
i <- 2
best <- as.data.frame(split(outcome[,c(2,7,resultado)], outcome[,7])[i])
orden1 <- suppressWarnings(c(as.numeric(paste(best[,3]))))
orden2 <- c(paste(best[,1]))
best <- best[order(orden1,orden2),]
orden <- suppressWarnings(!is.na(c(as.numeric(paste(best[,3])))))
best <- best[orden,]
best
total
total2 <- best[i,1:2]
total2
colnames(total2) <- c()
total2
total <- rbind.data.frame(total,total2)
?rbind.data.frame
total <- rbind.data.frame(total,total2,make.row.names = TRUE)
total <- rbind.data.frame(total,total2,make.row.names = FALSE)
best
total
total2
ncol(total)
rbind(total,total2)
rbind(total,total2,fill=TRUE)
rbind(total[1,1],total2[1,1])
rbind(total,total2,level=1)
?rbind
rbind(total,total2, deparse.level=1)
class(total2)
class(total)
rbind(total,total2,make.row.names = FALSE)
rbind(total,total2,make.row.names = TRUE)
data.drame(total,total2)
data.frame(total,total2)
data.frame(total,total2,ncol = 2)
data.frame(total,total2, byrow = TRUE, ncol = 2)
data.frame(total,total2)
rbind(total,total2)
as.matrix(total2)
as.matrix(total)
rbind(as.matrix(total),as.matrix(total2))
a <- data.frame(A = 1:3, B = c("h","j","k"))
a
a <- data.frame(A = 1, B = c("h"))
a
a <- data.frame(A = 101, B = c("h"))
b <- data.frame(A = 102, B = c("f"))
a
b
rbind(a,b)
a <- data.frame(A = 101, B = c("h"))
b <- data.frame(C = 102, D = c("f"))
rbind(a,b)
colnames(b) <- c()
rbind(a,b)
colnames(a) <- c()
colnames(b) <- c()
rbind(a,b)
colnames(a) <- c("hospital","state")
colnames(b) <- c("hospital","state")
rbind(a,b)
a <- data.frame(A = 101, B = c("h"))
b <- data.frame(C = 102, D = c("f"))
a
b
total <- data.frame()
colnames(total) <- c("hospital","state")
total <- data.frame()
for (i in 1:3){ #54
best <- as.data.frame(split(outcome[,c(2,7,resultado)], outcome[,7])[i])
orden1 <- suppressWarnings(c(as.numeric(paste(best[,3]))))
orden2 <- c(paste(best[,1]))
best <- best[order(orden1,orden2),]
orden <- suppressWarnings(!is.na(c(as.numeric(paste(best[,3])))))
best <- best[orden,]
if ((is.numeric(num)==TRUE)&(num<=nrow(best)&(num>0))){
total2 <- best[i,1:2]
colnames(total2) <- c("hospital","state")
total <- rbind.data.frame(total,total2,make.row.names = FALSE)
} else if ((is.numeric(num)==TRUE)&(num>nrow(best))){
total2 <- data.frame(NA, as.character(best[1,2]))
colnames(total2) <- c("hospital","state")
total <- rbind.data.frame(total, total2)
} else if (num == "mejor"){
total2 <- best[1,1:2]
colnames(total2) <- c("hospital","state")
total <- rbind.data.frame(total,total2)
} else if (num == "peor"){
total2 <- best[nrow(best),1:2]
colnames(total2) <- c("hospital","state")
total <- rbind.data.frame(total,total2)
} else {
total2 <- data.frame(NA, as.character(best[1,2]))
colnames(total2) <- c("hospital","state")
total <- rbind.data.frame(total, total2)
}
}
total
best
as.character(best[1,1])
as.character(best[1,2])
total <- data.frame()
for (i in 1:3){ #54
best <- as.data.frame(split(outcome[,c(2,7,resultado)], outcome[,7])[i])
orden1 <- suppressWarnings(c(as.numeric(paste(best[,3]))))
orden2 <- c(paste(best[,1]))
best <- best[order(orden1,orden2),]
orden <- suppressWarnings(!is.na(c(as.numeric(paste(best[,3])))))
best <- best[orden,]
if ((is.numeric(num)==TRUE)&(num<=nrow(best)&(num>0))){
total2 <- best[i,1:2]
colnames(total2) <- c("hospital","state")
rownames(total2) <- as.character(best[1,2])
total <- rbind.data.frame(total,total2,make.row.names = FALSE)
} else if ((is.numeric(num)==TRUE)&(num>nrow(best))){
total2 <- data.frame(NA, as.character(best[1,2]))
colnames(total2) <- c("hospital","state")
total <- rbind.data.frame(total, total2)
} else if (num == "mejor"){
total2 <- best[1,1:2]
colnames(total2) <- c("hospital","state")
total <- rbind.data.frame(total,total2)
} else if (num == "peor"){
total2 <- best[nrow(best),1:2]
colnames(total2) <- c("hospital","state")
total <- rbind.data.frame(total,total2)
} else {
total2 <- data.frame(NA, as.character(best[1,2]))
colnames(total2) <- c("hospital","state")
total <- rbind.data.frame(total, total2)
}
}
total
total2
total <- rbind.data.frame(total,total2)
total
total <- data.frame()
for (i in 1:3){ #54
best <- as.data.frame(split(outcome[,c(2,7,resultado)], outcome[,7])[i])
orden1 <- suppressWarnings(c(as.numeric(paste(best[,3]))))
orden2 <- c(paste(best[,1]))
best <- best[order(orden1,orden2),]
orden <- suppressWarnings(!is.na(c(as.numeric(paste(best[,3])))))
best <- best[orden,]
if ((is.numeric(num)==TRUE)&(num<=nrow(best)&(num>0))){
total2 <- best[i,1:2]
colnames(total2) <- c("hospital","state")
rownames(total2) <- as.character(best[1,2])
total <- rbind.data.frame(total,total2)
} else if ((is.numeric(num)==TRUE)&(num>nrow(best))){
total2 <- data.frame(NA, as.character(best[1,2]))
colnames(total2) <- c("hospital","state")
rownames(total2) <- as.character(best[1,2])
total <- rbind.data.frame(total, total2)
} else if (num == "mejor"){
total2 <- best[1,1:2]
colnames(total2) <- c("hospital","state")
rownames(total2) <- as.character(best[1,2])
total <- rbind.data.frame(total,total2)
} else if (num == "peor"){
total2 <- best[nrow(best),1:2]
colnames(total2) <- c("hospital","state")
rownames(total2) <- as.character(best[1,2])
total <- rbind.data.frame(total,total2)
} else {
total2 <- data.frame(NA, as.character(best[1,2]))
colnames(total2) <- c("hospital","state")
rownames(total2) <- as.character(best[1,2])
total <- rbind.data.frame(total, total2)
}
}
total
num <- 20
total <- data.frame()
num <- 20
for (i in 1:10){ #54
best <- as.data.frame(split(outcome[,c(2,7,resultado)], outcome[,7])[i])
orden1 <- suppressWarnings(c(as.numeric(paste(best[,3]))))
orden2 <- c(paste(best[,1]))
best <- best[order(orden1,orden2),]
orden <- suppressWarnings(!is.na(c(as.numeric(paste(best[,3])))))
best <- best[orden,]
if ((is.numeric(num)==TRUE)&(num<=nrow(best)&(num>0))){
total2 <- best[i,1:2]
colnames(total2) <- c("hospital","state")
rownames(total2) <- as.character(best[1,2])
total <- rbind.data.frame(total,total2)
} else if ((is.numeric(num)==TRUE)&(num>nrow(best))){
total2 <- data.frame(NA, as.character(best[1,2]))
colnames(total2) <- c("hospital","state")
rownames(total2) <- as.character(best[1,2])
total <- rbind.data.frame(total, total2)
} else if (num == "mejor"){
total2 <- best[1,1:2]
colnames(total2) <- c("hospital","state")
rownames(total2) <- as.character(best[1,2])
total <- rbind.data.frame(total,total2)
} else if (num == "peor"){
total2 <- best[nrow(best),1:2]
colnames(total2) <- c("hospital","state")
rownames(total2) <- as.character(best[1,2])
total <- rbind.data.frame(total,total2)
} else {
total2 <- data.frame(NA, as.character(best[1,2]))
colnames(total2) <- c("hospital","state")
rownames(total2) <- as.character(best[1,2])
total <- rbind.data.frame(total, total2)
}
}
total
best
total <- data.frame()
for (i in 1:10){ #54
best <- as.data.frame(split(outcome[,c(2,7,resultado)], outcome[,7])[i])
orden1 <- suppressWarnings(c(as.numeric(paste(best[,3]))))
orden2 <- c(paste(best[,1]))
best <- best[order(orden1,orden2),]
orden <- suppressWarnings(!is.na(c(as.numeric(paste(best[,3])))))
best <- best[orden,]
best
if ((is.numeric(num)==TRUE)&(num<=nrow(best)&(num>0))){
total2 <- best[num,1:2]
colnames(total2) <- c("hospital","state")
rownames(total2) <- as.character(best[1,2])
total <- rbind.data.frame(total,total2)
} else if ((is.numeric(num)==TRUE)&(num>nrow(best))){
total2 <- data.frame(NA, as.character(best[1,2]))
colnames(total2) <- c("hospital","state")
rownames(total2) <- as.character(best[1,2])
total <- rbind.data.frame(total, total2)
} else if (num == "mejor"){
total2 <- best[1,1:2]
colnames(total2) <- c("hospital","state")
rownames(total2) <- as.character(best[1,2])
total <- rbind.data.frame(total,total2)
} else if (num == "peor"){
total2 <- best[nrow(best),1:2]
colnames(total2) <- c("hospital","state")
rownames(total2) <- as.character(best[1,2])
total <- rbind.data.frame(total,total2)
} else {
total2 <- data.frame(NA, as.character(best[1,2]))
colnames(total2) <- c("hospital","state")
rownames(total2) <- as.character(best[1,2])
total <- rbind.data.frame(total, total2)
}
}
total
split(outcome[,c(2,7,resultado)
split(outcome[,c(2,7,resultado)], outcome[,7])
outcome[,c(2,7,resultado)]
split(outcome[,c(2,7,resultado)], outcome[,7])
# Para cada estado, encuentra el hospital con la posición dada.
summary(split(outcome[,c(2,7,resultado)], outcome[,7]))
# Para cada estado, encuentra el hospital con la posición dada.
length(split(outcome[,c(2,7,resultado)], outcome[,7]))
# Para cada estado, encuentra el hospital con la posición dada.
split(outcome[,c(2,7,resultado)], outcome[,7])[1]
# Para cada estado, encuentra el hospital con la posición dada.
split(outcome[,c(2,7,resultado)], outcome[,7])[AK]
# Para cada estado, encuentra el hospital con la posición dada.
split(outcome[,c(2,7,resultado)], outcome[,7])$AK
# Para cada estado, encuentra el hospital con la posición dada.
split(outcome[,c(2,7,resultado)], outcome[,7])$GU
# Para cada estado, encuentra el hospital con la posición dada.
split(outcome[,c(2,7,resultado)], outcome[,7])$VI
# Para cada estado, encuentra el hospital con la posición dada.
split(outcome[,c(2,7,resultado)], outcome[,7])[54]
# Para cada estado, encuentra el hospital con la posición dada.
split(outcome[,c(2,7,resultado)], outcome[,7])[55]
rankingcompleto <- function(resultado, num = "mejor") {
# Lectura de datos
outcome <- read.csv("outcome-of-care-measures.csv")
# Revisión de la validez de estado y resultado
if (resultado == "ataque"){
resultado <- 11
} else if (resultado == "falla") {
resultado <- 17
} else if (resultado == "neumonia"){
resultado <- 23
} else {
stop("Resultado inválido")
}
if(!is.element(estado,outcome[,7])){
stop("Estado inválido")
}
# Para cada estado, encuentra el hospital con la posición dada.
total <- data.frame()
for (i in 1:54){ #54 son los estados registrados
best <- as.data.frame(split(outcome[,c(2,7,resultado)], outcome[,7])[i])
orden1 <- suppressWarnings(c(as.numeric(paste(best[,3]))))
orden2 <- c(paste(best[,1]))
best <- best[order(orden1,orden2),]
orden <- suppressWarnings(!is.na(c(as.numeric(paste(best[,3])))))
best <- best[orden,]
best
if ((is.numeric(num)==TRUE)&(num<=nrow(best)&(num>0))){
total2 <- best[num,1:2]
colnames(total2) <- c("hospital","state")
rownames(total2) <- as.character(best[1,2])
total <- rbind.data.frame(total,total2)
} else if ((is.numeric(num)==TRUE)&(num>nrow(best))){
total2 <- data.frame(NA, as.character(best[1,2]))
colnames(total2) <- c("hospital","state")
rownames(total2) <- as.character(best[1,2])
total <- rbind.data.frame(total, total2)
} else if (num == "mejor"){
total2 <- best[1,1:2]
colnames(total2) <- c("hospital","state")
rownames(total2) <- as.character(best[1,2])
total <- rbind.data.frame(total,total2)
} else if (num == "peor"){
total2 <- best[nrow(best),1:2]
colnames(total2) <- c("hospital","state")
rownames(total2) <- as.character(best[1,2])
total <- rbind.data.frame(total,total2)
} else {
total2 <- data.frame(NA, as.character(best[1,2]))
colnames(total2) <- c("hospital","state")
rownames(total2) <- as.character(best[1,2])
total <- rbind.data.frame(total, total2)
}
}
# Regresa un data frame con el nombre del hospital y la abreviatura
# del nombre del estado al que pertenece.
total
}
resultado <- "ataque" #ataque #falla #neumonia
num <- 20
rankingcompleto(resultado,num)
rankingcompleto <- function(resultado, num = "mejor") {
# Lectura de datos
outcome <- read.csv("outcome-of-care-measures.csv")
# Revisión de la validez de estado y resultado
if (resultado == "ataque"){
resultado <- 11
} else if (resultado == "falla") {
resultado <- 17
} else if (resultado == "neumonia"){
resultado <- 23
} else {
stop("Resultado inválido")
}
# Para cada estado, encuentra el hospital con la posición dada.
total <- data.frame()
for (i in 1:54){ #54 son los estados registrados
best <- as.data.frame(split(outcome[,c(2,7,resultado)], outcome[,7])[i])
orden1 <- suppressWarnings(c(as.numeric(paste(best[,3]))))
orden2 <- c(paste(best[,1]))
best <- best[order(orden1,orden2),]
orden <- suppressWarnings(!is.na(c(as.numeric(paste(best[,3])))))
best <- best[orden,]
best
if ((is.numeric(num)==TRUE)&(num<=nrow(best)&(num>0))){
total2 <- best[num,1:2]
colnames(total2) <- c("hospital","state")
rownames(total2) <- as.character(best[1,2])
total <- rbind.data.frame(total,total2)
} else if ((is.numeric(num)==TRUE)&(num>nrow(best))){
total2 <- data.frame(NA, as.character(best[1,2]))
colnames(total2) <- c("hospital","state")
rownames(total2) <- as.character(best[1,2])
total <- rbind.data.frame(total, total2)
} else if (num == "mejor"){
total2 <- best[1,1:2]
colnames(total2) <- c("hospital","state")
rownames(total2) <- as.character(best[1,2])
total <- rbind.data.frame(total,total2)
} else if (num == "peor"){
total2 <- best[nrow(best),1:2]
colnames(total2) <- c("hospital","state")
rownames(total2) <- as.character(best[1,2])
total <- rbind.data.frame(total,total2)
} else {
total2 <- data.frame(NA, as.character(best[1,2]))
colnames(total2) <- c("hospital","state")
rownames(total2) <- as.character(best[1,2])
total <- rbind.data.frame(total, total2)
}
}
# Regresa un data frame con el nombre del hospital y la abreviatura
# del nombre del estado al que pertenece.
total
}
resultado <- "ataque" #ataque #falla #neumonia
num <- 20
rankingcompleto(resultado,num)
head(rankingcompleto(resultado,num))
head(rankingcompleto(resultado,num),10)
resultado <- "neumonia" #ataque #falla #neumonia
num <- "peor"
tail(rankingcompleto(resultado,num),10)
resultado <- "falla" #ataque #falla #neumonia
tail(rankingcompleto(resultado,num),10)
tail(rankingcompleto(resultado),10)
